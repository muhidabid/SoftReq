<!-- Stuff above text -->

<div class="d-flex justify-content-end align-items-center mb-2">

  <button mat-icon-button class="mt-1" (click)="onCardItemEmit(item, false)">
    <mat-icon class="icon">edit</mat-icon>
  </button>
</div>

<!-- Requirement -->
<div class="d-flex justify-content-between align-items-start mb-2">
    <div class="mt-1">
      {{ item.requirement }}
    </div>
</div>

<!-- Stuff below text -->

<div class="d-flex justify-content-end align-items-center mb-2">

  <!-- <button mat-button data-bs-toggle="modal" data-bs-target="#exampleModal">
    View Details
  </button> -->

  <button mat-icon-button class="mt-1" (click)="onCardItemEmit(item, false)">
    <mat-icon class="icon">arrow_downward</mat-icon>
  </button>
  <button mat-icon-button disableRipple (click)="onCardItemEmit(item, true)">
    <mat-icon class="icon">arrow_upward</mat-icon>
  </button>
  <span>{{ item.version }}</span>
  <button mat-icon-button disableRipple class="ml-2" (click)="onOpenComment()">
    <mat-icon class="icon">chat_bubble_outline</mat-icon>
  </button>
  <span>{{ item.comments.length }}</span>
  <button mat-icon-button class="icon-delete" (click)="onCardDelete(item.id)">
    <mat-icon style="font-size: 30px; color: red;">delete</mat-icon>
  </button>
</div>

<div *ngIf="open">
  <mat-form-field class="w-100 mb-2">
    <mat-label>Leave a comment</mat-label>
    <textarea matInput [(ngModel)]="commentInput" (mousedown)="$event.stopPropagation()"></textarea>
    <button
      mat-button
      *ngIf="commentInput"
      matSuffix
      mat-icon-button
      color="primary"
      class="icon-confirm"
      (click)="onCommentTextEmit(item.id)"
    >
      <mat-icon>done</mat-icon>
    </button>
  </mat-form-field>

  <ng-content></ng-content>
</div>

<!--
<div class="modal fade" id="exampleModal" tabindex="-1">
  <div class="modal-dialog">
      <div class="modal-content">

          <div class="modal-header">
              <h2 class="modal-title" id="exampleModalLabel" style="font-size: 30px; color: black;">{{ item.text }}</h2>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>

          <div class="modal-body">
              <h3 style="text-decoration: underline; color: black;">Quality Concerns</h3>
              <button type="button" class="btn btn-primary">Update QC</button>

              <h3 style="text-decoration: underline; color: black;">Ambiguity Check</h3>
              <button type="button" class="btn btn-primary">Validate</button>

              <h3 style="text-decoration: underline; color: black;">Associated Tasks</h3>
              <ol>
                <li></li>
                <li></li>
              </ol>
          </div>

          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Update</button>

            <button mat-icon-button>
              <mat-icon style="font-size: 28px; color: gray;">edit</mat-icon>
            </button>

            <button mat-icon-button class="icon-delete" data-bs-dismiss="modal" (click)="onCardDelete(this.item.id)">
              <mat-icon style="font-size: 28px; color: red;">delete</mat-icon>
            </button>

          </div>

      </div>
  </div>
</div>
-->

